<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>挑戦ボックス</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
  </head>
  <body class="task-body">
    <div class="link-area">
      <a th:href="@{'/' + ${username} + '/task-top'}">TOPへ</a>
    </div>

    <div class="database-container">
      <p>未挑戦</p>
      <table id="unchallenged-table" class="chalenge-database">
        <tr>
          <th>成功</th>
          <th>削除</th>
          <th>挑戦名</th>
          <th>リスク</th>
          <th>求める結果</th>
          <th>戦略</th>
          <th>結果</th>
          <th>改善案</th>
          <th>挑戦度</th>
          <th>挑戦日</th>
        </tr>
        <tr th:each="challenge : ${unchallenged}" class="challenge-row" th:data-id="${challenge.id}">
          <td>
            <input type="button" value="成功" class="challenge-suc-button" />
            <input type="button" value="失敗" class="challenge-fail-button" />
          </td>
          <td><input type="button" value="削除" class="challenge-delete-button" /></td>
          <td><input type="text" th:value="${challenge.title}" size="8" class="challenge-title-input" /></td>
          <td><input type="text" th:value="${challenge.risk}" size="8" class="challenge-risk-input" /></td>
          <td><input type="text" th:value="${challenge.expectedResult}" size="8" class="challenge-expected-input" /></td>
          <td><input type="text" th:value="${challenge.strategy}" size="8" class="challenge-strategy-input" /></td>
          <td><input type="text" th:value="${challenge.actualResult}" size="8" class="challenge-actual-input" /></td>
          <td><input type="text" th:value="${challenge.improvementPlan}" size="8" class="challenge-improvement-input" /></td>
          <td>
            <select class="challenge-level-input">
              <option th:each="level : ${#numbers.sequence(1,5)}" th:value="${level}" th:text="${level}" th:selected="${level == challenge.challengeLevel}"></option>
            </select>
          </td>
          <td><input type="date" th:value="${challenge.challengeDate}" class="challenge-date-input" /></td>
        </tr>
      </table>
      <button id="new-challenge-button">新規</button>
      <button id="new-task-button">タスク新規</button>
    </div>

    <div class="database-container">
      <p>挑戦済み</p>
      <table id="completed-challenge-table" class="chalenge-database">
        <tr>
          <th>成功</th>
          <th>削除</th>
          <th>挑戦名</th>
          <th>リスク</th>
          <th>求める結果</th>
          <th>戦略</th>
          <th>結果</th>
          <th>改善案</th>
          <th>挑戦度</th>
          <th>挑戦日</th>
        </tr>
        <tr th:each="challenge : ${completedChallenges}" class="challenge-row" th:data-id="${challenge.id}">
          <td><input type="button" value="取消" class="challenge-cancel-button" /></td>
          <td><input type="button" value="削除" class="challenge-delete-button" /></td>
          <td><input type="text" th:value="${challenge.title}" size="8" class="challenge-title-input" /></td>
          <td><input type="text" th:value="${challenge.risk}" size="8" class="challenge-risk-input" /></td>
          <td><input type="text" th:value="${challenge.expectedResult}" size="8" class="challenge-expected-input" /></td>
          <td><input type="text" th:value="${challenge.strategy}" size="8" class="challenge-strategy-input" /></td>
          <td><input type="text" th:value="${challenge.actualResult}" size="8" class="challenge-actual-input" /></td>
          <td><input type="text" th:value="${challenge.improvementPlan}" size="8" class="challenge-improvement-input" /></td>
          <td>
            <select class="challenge-level-input">
              <option th:each="level : ${#numbers.sequence(1,5)}" th:value="${level}" th:text="${level}" th:selected="${level == challenge.challengeLevel}"></option>
            </select>
          </td>
          <td><input type="date" th:value="${challenge.challengeDate}" class="challenge-date-input" /></td>
        </tr>
      </table>
    </div>

    <script th:src="@{/js/challenge.js}"></script>
  </body>
</html>
